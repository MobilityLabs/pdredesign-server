<div class="categories">
  <div ng-show="isConsensus" class="row sort-by">
    <ng-include
      ng-show="isConsensus"
      src="'client/views/shared/responses/sort_by.html'" >
    </ng-include>

    <ng-include
      ng-show="isConsensus"
      src="'client/views/shared/responses/filter_by_role.html'" >
    </ng-include>
  </div>
  <div class="category" ng-repeat="category in categories">
    <div class="row">
      <div>
        <p class="category-label" ng-click="toggleCategoryAnswers(category)">
          <i class="fa fa-chevron-right" ng-class="{'fa-chevron-down' : category.toggled == true}"></i>
          {{category.name}}
        </p>
      </div>
      <div class="question-container question-{{question.id}}" ng-repeat="question in category.questions">
        <div class="question-row" ng-click="toggleAnswers(question)">
          <div class="question">
            <p class="question-id scored-{{question.score.value}}" ng-show="question.loading">
              <i class="fa fa-spinner fa-spin"></i>
            </p>
            <p id="question-{{question.number}}" class="question-id {{questionColor(question, isConsensus)}}" ng-hide="question.loading">
              <a href="#question-{{question.id}}"></a>
              {{question.number}}
            </p>
          </div>
          <div class="question-content">
            <div>
              <p class="question-headline">
                {{question.headline}}
              </p>
              <p class="content">{{question.content}}</p>
            </div>
            <div class="answers">
              <div class="answer" ng-repeat="answer in question.answers" ng-click="assignAnswerToQuestion(answer, question)">
                <response-answer question="question" answer="answer" />
              </div>
              <skip-question
                  editable="!isConsensus"
                  question="question"
                  response-id="{{responseId}}"
                  assessment-id="{{assessmentId}}">
              </skip-question>
              <ng-include
                  ng-show="isConsensus"
                  src="'client/views/shared/responses/evidence.html'" >
              </ng-include>
              <ng-include
                  ng-show="isConsensus"
                  src="'client/views/shared/responses/consensus_score_entry.html'" >
              </ng-include>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
